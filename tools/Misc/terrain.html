<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Engine Mass Animation</title>
<style>
  body { margin: 0; overflow: hidden; }
  canvas { display: block; }
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
  // Scene, Camera, Renderer
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.set(0, 10, 20);

  const renderer = new THREE.WebGLRenderer({antialias: true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  // Light
  const light = new THREE.DirectionalLight(0xffffff, 1);
  light.position.set(10, 20, 10);
  scene.add(light);
  scene.add(new THREE.AmbientLight(0x404040));

  // Bars to represent each factor
  const factors = [
    {name: "gethc * 8", value: 625},
    {name: "* 8", value: 5002},
    {name: "* phi", value: 8094},
    {name: "/ tensile", value: 0.0367},
    {name: "(fden*fen)^(1/3)", value: 3384},
    {name: "* vp", value: 40611},
    {name: "Final Mass", value: 1488}
  ];

  const bars = [];
  const spacing = 3;

  factors.forEach((f, i) => {
    const geometry = new THREE.BoxGeometry(1, 0.1, 1);
    const material = new THREE.MeshPhongMaterial({color: 0x156289});
    const bar = new THREE.Mesh(geometry, material);
    bar.position.set(i * spacing - factors.length*spacing/2, 0, 0);
    scene.add(bar);
    bars.push({mesh: bar, targetHeight: f.value / 1000}); // scaled down
  });

  // Animation
  const animate = function () {
    requestAnimationFrame(animate);

    bars.forEach(b => {
      if(b.mesh.scale.y < b.targetHeight){
        b.mesh.scale.y += 0.02;
        b.mesh.position.y = b.mesh.scale.y/2;
      }
    });

    renderer.render(scene, camera);
  };

  animate();

  // Handle resize
  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>
</body>
</html>